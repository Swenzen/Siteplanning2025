/* fichier CSS complet (remplace l'ancien) */

/* layout général */
body{ font-family: Arial, Helvetica, sans-serif; margin:0; padding:0; color:#222; background:#fff; }
.container{ max-width:1100px; margin:18px auto; padding:0 16px; }

/* CR sticky */
.cr-sticky-panel{
  position:sticky; top:0; z-index:1200;
  background:#f1f3f4; border-bottom:2px solid rgba(0,0,0,0.06);
  box-shadow:0 6px 18px rgba(0,0,0,0.06); padding:12px 18px;
  max-height:34vh; overflow:auto; transition:max-height .28s, padding .2s; border-radius:0 0 10px 10px;
}
.cr-sticky-panel.collapsed{ max-height:46px; overflow:hidden; padding-bottom:6px; }
#toggle-cr-panel{ position:absolute; right:12px; top:8px; border:0; background:#fff; padding:6px; border-radius:6px; cursor:pointer; box-shadow:0 1px 4px rgba(0,0,0,0.08); }

/* actions */
.actions-row{ margin-top:10px; display:flex; align-items:center; gap:8px; }
.btn-copier{ padding:8px 10px; border-radius:6px; border:0; background:#ddd; cursor:pointer; color:#fff; }
.btn-gen{ background:#5a8bd8; }
.copie-ok{ font-weight:700; color:#2a7f2a; }
.hidden{ display:none !important; }

/* Bulls container full width */
.bulls-container{ display:flex; gap:18px; width:100%; box-sizing:border-box; padding:14px; align-items:flex-start; justify-content:space-between; max-width:1400px; margin:8px auto; }
.bulls-left, .bulls-right{ flex:1 1 48%; display:flex; flex-direction:column; gap:8px; }
.bulls-left h2, .bulls-right h2{ margin:0 0 6px 0; font-size:1.05rem; }

/* svg sizing */
svg{ width:100%; height:auto; max-height:420px; border:1px solid #eee; background:#fff; border-radius:6px; }

/* legend under each bull */
.legend.under{ margin-top:8px; font-size:0.95rem; color:#333; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.legend-box{ display:inline-block; width:14px; height:12px; vertical-align:middle; border-radius:3px; }
.legend-box.green{ background:#27ae60; }
.legend-box.orange{ background:#f39c12; }
.legend-box.red{ background:#e74c3c; }

/* perf controls near bulls */
.perf-controls{ display:flex; flex-wrap:wrap; gap:10px; margin-top:8px; }
.perf-controls > div{ min-width:140px; }

/* fills classes (utilisées pour SVG) */
.fill-green{ fill:#27ae60 !important; fill-opacity:0.9 !important; }
.fill-orange{ fill:#f39c12 !important; fill-opacity:0.9 !important; }
.fill-red{ fill:#e74c3c !important; fill-opacity:0.9 !important; }

/* gris pour réversibilité inactif */
.fill-gray{ fill:#d9d9d9 !important; fill-opacity:0.95 !important; stroke:#bbb !important; }

/* classes utilitaires pour rev paths (évite inline styles) */
.rev-path{ cursor:pointer; }
.rev-active{ pointer-events:auto; opacity:1; transition:opacity .18s; }
.rev-inactive{ pointer-events:none; opacity:0.55; transition:opacity .18s; }

/* petites tables etc. */
.table-kine{ width:100%; border-collapse:collapse; margin-top:8px; }
.table-kine td{ padding:6px 8px; vertical-align:top; }
.flag{ font-size:0.9rem; color:#666; }
.fevg-auto{ font-weight:700; color:#2c7fb8; font-size:1rem; margin-top:6px; }

/* Restaurer rendu visuel des SVG "isch"/"nec" lorsqu'on les sélectionne */
.zone-bin{ fill: none; transition: fill .15s, fill-opacity .15s; }
.zone-bin.on{ fill: #3498db !important; /* bleu = segment inclus */ fill-opacity: 0.95 !important; stroke:#0b5fa8 !important; }
/* rendre les zones cliquables (CSP safe, évite style inline) */
.zone-svg,
.zone-bin,
.rev-path {
  cursor: pointer;
  pointer-events: auto;
}

/* si nécessaire, forcer aussi au niveau des SVG */
svg .zone-svg,
svg .zone-bin,
svg .rev-path {
  cursor: pointer;
  pointer-events: auto;
}

/* zones SVG : par défaut transparent, cliquable ; la classe .on affiche la couleur */
.zone-svg,
.zone-bin {
  fill: transparent !important;
  transition: fill .15s, fill-opacity .15s;
  cursor: pointer;
  pointer-events: auto;
}

/* état sélectionné pour isch/nec */
.zone-bin.on {
  fill: #3498db !important; /* bleu */
  fill-opacity: 0.95 !important;
  stroke: #0b5fa8 !important;
}

/* si besoin, override final pour réversibilité / perfusion */
.fill-green  { fill:#27ae60 !important; fill-opacity:0.9 !important; }
.fill-orange { fill:#f39c12 !important; fill-opacity:0.9 !important; }
.fill-red    { fill:#e74c3c !important; fill-opacity:0.9 !important; }
.fill-gray   { fill:#d9d9d9 !important; fill-opacity:0.95 !important; stroke:#bbb !important; }

