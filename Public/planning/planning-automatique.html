<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Planning automatique</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/header.js" defer></script>
</head>
<body>
    <h2>Planning automatique</h2>
    <div>
        <p>Bienvenue sur la page de génération automatique du planning.</p>
    </div>

    <div id="user-info" class="hidden">
        <p>Connecté en tant que : <span id="username-display"></span></p>
        <button data-role="page-logout">Se déconnecter</button>
    </div>

    <div id="dateSelector">
        <label for="startDate">Date de début :</label>
        <input type="date" id="startDate">
        <label for="endDate">Date de fin :</label>
        <input type="date" id="endDate">
                <button id="applyDateFilter">Appliquer</button>
    </div>

        <div id="progressBarContainer" class="progress-bar-container">
            <div class="progress-label">Progression</div>
            <div id="progressBar" class="progress-bar"></div>
            <progress id="progressProcess" max="100" value="0" class="native-progress"></progress>
        </div>

    <table id="planningTableWithNames">
        <thead></thead>
        <tbody></tbody>
        <tfoot></tfoot>
    </table>
    <div class="actions-below-table">
            <button id="btnDeleteNonDesideratas" class="danger" title="Supprimer toutes les affectations sauf celles marquées Désidératas dans la période affichée">Supprimer les noms (sauf les désidératas)</button>
        </div>
    <button id="btnPrintPlanning">Imprimer ce planning</button>
    <div id="tooltip" class="tooltip-hidden"></div>

    <div id="evolution-visualization" class="evolution-visualization">
      <h3>Planning simulé (aperçu brut des données)</h3>
      <div id="planning-evolution-content"></div>
    </div>

    <div id="evolution-nav" class="evolution-nav">
      <button id="prevGen">Précédent</button>
      <span id="genLabel">Génération 1/1</span>
      <button id="nextGen">Suivant</button>
    </div>
    <div id="stats-results"></div>

    <!-- Contexte de page d'abord pour que le rendu sache qu'on est en "automatique" -->
    <script src="/js/planning/planning-automatique-context.js"></script>
    <script src="/js/planning/clicdroit.js"></script>
    <script src="/js/planning/planningauto.js"></script>
    <script src="/js/planning/affichertooltip2.js"></script>
    <script src="/js/planning/iaselective.js"></script>
    <script src="/js/planning/ponderationia.js"></script>
    <script src="/js/planning/style/style.js"></script>
</body>
</html>
