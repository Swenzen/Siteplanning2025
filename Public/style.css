/* ========== UTILITAIRES & BASE ========== */
:root {
  --blue:#3498db;
  --blue-dark:#2980b9;
  --blue-alt:#2f80c2;
  --green:#28a745;
  --red:#e74c3c;
  --red-dark:#c0392b;
  --gray-border:#ddd;
  --shadow:0 4px 10px rgba(0,0,0,0.1);
  --radius:10px;
  --trans:0.3s;
  --header-bg:#2c3e50;
}
body {
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  background:#f4f4f9;
  display:flex;
  flex-direction:column;
  height:100%;
  overflow:auto;
}
.hidden { display:none !important; }
.max400-overflow { max-height:400px; overflow:auto; }
.float-right { float:right; }
.cursor-pointer { cursor:pointer; }
.mb-20 { margin-bottom:20px; }
.mt-20 { margin-top:20px; }
.mt-40 { margin-top:40px; }
.flex-row { display:flex; }
.flex-1 { flex:1; } .flex-2 { flex:2; }
.wrap { flex-wrap:wrap; }
.gap-24 { gap:24px; } .gap-32 { gap:32px; }
.fw-bold { font-weight:bold; }
.fs-18 { font-size:18px; }
.ta-center { text-align:center; }
.ws-normal { white-space:normal; }
.ws-preline { white-space:pre-line; }
.delta-blue { color:#007bff; }
.delta-red { color:#c00; }
.bg-vacance { background:#f8fcff; }
.bg-ponderation { background:#f8fcff; }
.cell-fermee { background:#d3d3d3; }
.cell-empty { background:#eee; }
.cell-normal { white-space:normal; }
.highlight-switch { box-shadow:0 0 8px #007bff; border:2px solid #007bff; }
.vacance-title-cell { font-weight:bold; cursor:pointer; }

/* Styles d'encadré desideratas retirés: on conserve uniquement les badges (D/A/V) */

/* ========== BOUTONS GÉNÉRAUX ========== */
button,
.action-btn,
.user-btn,
.btn-ponderation {
  background:var(--blue);
  color:#fff;
  border:none;
  padding:10px 15px;
  border-radius:5px;
  cursor:pointer;
  font-size:14px;
  font-weight:bold;
  transition:background var(--trans), transform .2s, box-shadow var(--trans);
  box-shadow:0 2px 5px rgba(0,0,0,0.1);
}
button:hover,
.action-btn:hover,
.user-btn:hover,
.btn-ponderation:hover {
  background:var(--blue-dark);
  transform:translateY(-2px);
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
}
button.danger, .tooltip-delete, .tooltip-delete-multi,
.tooltip-delete-commentaire { background:var(--red); }
button.danger:hover,
.tooltip-delete:hover,
.tooltip-delete-multi:hover,
.tooltip-delete-commentaire:hover { background:var(--red-dark); }
.btn-active { background:var(--green) !important; }
.btn-ponderation { padding:8px 16px; }
.btn-ponderation:hover { background:var(--blue-dark); }
.btn-blink { animation:blink .8s linear infinite; }
@keyframes blink {
  0% { box-shadow:0 0 8px #007bff; }
  50% { box-shadow:0 0 24px #007bff; }
  100% { box-shadow:0 0 8px #007bff; }
}

/* ========== HEADER ========== */
header {
  width:100%;
  background:linear-gradient(135deg,#2c3e50,#1f2d3a 60%,#162029);
  color:#fff;
  padding:10px 20px;
  display:flex;
  justify-content:center;
  align-items:center;
  box-shadow:0 4px 14px rgba(0,0,0,.35);
  border-bottom:1px solid rgba(255,255,255,.08);
  position:sticky; top:0; z-index:1000;
  flex:0 0 auto;
}
#header-container {
  width:90%; margin:0 auto;
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 0;
  gap:24px;
}
header nav { flex-grow:1; display:flex; }
header nav ul {
  list-style:none; margin:0; padding:0;
  display:flex; gap:15px;
}
header nav ul li a {
  display:inline-block;
  background:var(--blue);
  color:#fff;
  text-decoration:none;
  font-weight:bold;
  padding:10px 15px;
  border-radius:5px;
  transition:background var(--trans), transform .2s, box-shadow var(--trans);
  box-shadow:0 2px 5px rgba(0,0,0,0.2);
  white-space:nowrap;
}
header nav ul li a:hover {
  background:var(--blue-dark);
  transform:translateY(-2px);
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
}
header nav ul li a.active {
  background:#1abc9c;
  pointer-events:none;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
}
#user-section {
  display:flex; flex-direction:row; align-items:center; gap:10px;
  color:#eee;
}
#logoutButton, #headerLogoutButton {
  background:var(--red); border:none; border-radius:20px;
  padding:8px 15px; font-weight:bold;
}
#logoutButton:hover, #headerLogoutButton:hover { background:var(--red-dark); }
.has-dropdown { position:relative; }
.has-dropdown .dropdown-menu {
  display:none; position:absolute; left:0; top:100%;
  background:#f5f5f5; min-width:180px;
  box-shadow:0 2px 8px #0002;
  border-radius:0 0 8px 8px; z-index:100; padding:0; margin:0;
}
.has-dropdown:hover .dropdown-menu,
.has-dropdown:focus-within .dropdown-menu { display:block; }
.has-dropdown .dropdown-menu li { width:100%; }
.has-dropdown .dropdown-menu li a {
  display:block; padding:10px 18px; color:#222;
  text-decoration:none; border-radius:0; font-weight:normal;
}
.has-dropdown .dropdown-menu li a:hover { background:#e3f2fd; color:#1976d2; }

/* ========== CONTENU & SECTIONS ========== */
#content {
  margin-top:0 !important;         /* supprime l’ancien décalage */
  padding:20px;
  flex:1 1 auto;
  overflow:auto;                   /* unique scrollbar */
  position:relative;
  -webkit-overflow-scrolling:touch;
}
.section-container,
#auth-section,
#user-info {
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  width:90%;
  margin:20px auto;
  padding:20px;
}
#auth-section,#user-info { width:400px; }
#auth-section input[type=text],
#auth-section input[type=password],
#auth-section input[type=email] {
  width:90%; padding:10px; margin:10px 0;
  border:1px solid var(--gray-border);
  border-radius:5px; font-size:14px;
}
.form-container {
  display:flex; justify-content:center; align-items:center;
  gap:10px; margin-top:20px;
}
.form-container input[type=text] {
  width:70%; padding:10px; border:1px solid var(--gray-border);
  border-radius:5px; font-size:14px;
  box-shadow:0 2px 5px rgba(0,0,0,0.1);
}

/* ========== TABLEAUX GÉNÉRAUX (petits) ========== */
table:not(.grid-freeze) {
  width:90%; margin:20px auto;
  border-collapse:collapse;
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}
table:not(.grid-freeze) th,
table:not(.grid-freeze) td {
  border:1px solid var(--gray-border);
  padding:12px;
  text-align:center;
  font-size:14px;
  color:#333;
  white-space:nowrap;
}
table:not(.grid-freeze) thead {
  background:var(--blue);
  color:#fff;
  font-weight:bold;
  text-align:center;
}
table:not(.grid-freeze) thead th {
  padding:15px; font-size:16px; text-transform:uppercase;
}
table:not(.grid-freeze) tbody tr {
  border-bottom:1px solid var(--gray-border);
  transition:background-color var(--trans);
}
table:not(.grid-freeze) tbody tr:hover { background:#f9f9f9; }
table:not(.grid-freeze) tbody tr:last-child { border-bottom:none; }
table:not(.grid-freeze) tbody td button {
  background:var(--red); color:#fff; border:none;
  padding:8px 12px; border-radius:5px; cursor:pointer;
  font-size:12px; transition:background var(--trans);
}
table:not(.grid-freeze) tbody td button:hover { background:var(--red-dark); }

/* ========== GRANDES GRILLES FIGÉES ========== */
.grid-wrapper {
  width:90%; margin:20px auto;
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  position:relative;
}
.sticky-table-container {
  max-height:70vh;
  overflow:auto;
  position:relative;
}
table.grid-freeze {
  border-collapse:collapse;
  width:max-content;
  min-width:100%;
  background:#fff;
  border-spacing:0;
  margin:0;
}
table.grid-freeze th,
table.grid-freeze td {
  border:1px solid var(--gray-border);
  padding:12px;
  text-align:center;
  font-size:14px;
  color:#333;
  white-space:nowrap;
}
table.grid-freeze thead th {
  position:sticky;
  top:0;
  background:var(--blue);
  color:#fff;
  font-weight:bold;
  font-size:15px;
  text-transform:uppercase;
  z-index:30;
  box-shadow:0 2px 0 #e0e6eb;
}
table.grid-freeze th:first-child,
table.grid-freeze td:first-child {
  position:sticky;
  left:0;
  background:#fff;
  z-index:25;
  box-shadow:2px 0 0 #e0e6eb;
}
table.grid-freeze thead th:first-child {
  background:var(--blue-alt);
  z-index:40;
}
table.grid-freeze tbody tr:hover td { background:#f9f9f9; }
table.grid-freeze tbody tr:hover td:first-child { background:#f3f6fa; }

/* Sous-tableaux internes (jours / dates) */
table.grid-freeze .sub-table {
  border-collapse:collapse;
  background:transparent;
  margin:0 auto;
}
table.grid-freeze .sub-table thead th {
  position:static;
  background:var(--blue);
  color:#fff;
  font-size:11px;
  padding:4px 6px;
  box-shadow:none;
  text-transform:none;
  white-space:nowrap;
}
table.grid-freeze .sub-table td {
  position:static;
  background:#fff;
  padding:2px 4px;
  border:1px solid var(--gray-border);
}
table.grid-freeze .sub-table input[type=checkbox] { cursor:pointer; }

/* ========== PROGRESS BAR ========== */
.progress-bar-container {
  position:relative;
  width:100%;
  height:20px;
  min-height:20px;
  background:#e9edf3;
  border-radius:8px;
  overflow:hidden;
  margin:12px 0;
  display:block;
  border:1px solid var(--gray-border);
}
.progress-bar-container.show { display:block; }
.progress-bar {
  position:absolute; top:0; left:0;
  height:100%; width:0%;
  background:linear-gradient(90deg, #4da3ff, #1e6fd8);
  transition:width .2s;
  z-index:1;
}
/* <progress> natif (affiché en complément visuel) */
.native-progress { width:100%; height:18px; appearance:auto; display:none; }

.progress-label {
  position:absolute;
  top:-20px; left:0;
  font-size:12px; color:#555;
}

/* ========== TOOLTIP ========== */
/* (animations live retirées) */

#tooltip, #emptyTooltip, .tooltip-clicdroit {
  position:absolute;
  background:#fff;
  border:1px solid #ccc;
  border-radius:6px;
  box-shadow:0 2px 8px rgba(0,0,0,0.15);
  padding:10px;
  font-size:13px;
  z-index:10000;
  display:none;
}
.tooltip-clicdroit { display:block; }
.tooltip-header, .tooltip-content {
  position:relative;
  padding-bottom:10px;
  margin-bottom:8px;
  border-bottom:1px solid #eee;
  text-align:right;
}
.tooltip-close { cursor:pointer; font-size:18px; font-weight:bold; display:inline-block; }
.tooltip-title { font-weight:bold; margin-bottom:6px; }
.tooltip-list, .tooltip-list-item, .tooltip-list li {
  list-style:none; padding:0; margin:0;
}
.tooltip-list li, .tooltip-list-item { cursor:pointer; padding:2px 0; }
.tooltip-list li.unavailable { color:#888; }
.tooltip-details { font-size:13px; color:#555; }
.tooltip-comment-label { font-weight:bold; color:#007bff; margin-bottom:4px; }
.tooltip-delete,
.tooltip-delete-multi,
.tooltip-delete-commentaire,
.tooltip-reopen,
.tooltip-fermee,
.tooltip-add-commentaire {
  background:#fff;
  border-radius:3px;
  padding:2px 8px;
  cursor:pointer;
  font-size:13px;
  border:1px solid #ccc;
  margin-right:4px;
}
.tooltip-delete,
.tooltip-delete-multi,
.tooltip-delete-commentaire { color:#ff4d4f; border-color:#ff4d4f; }
.tooltip-reopen { color:#28a745; border-color:#28a745; }
.tooltip-fermee { color:#c00; border-color:#c00; }
.tooltip-add-commentaire { color:#007bff; border-color:#007bff; }
.tooltip-table { border-collapse:collapse; width:100%; font-size:13px; }
.tooltip-table th {
  border-bottom:1px solid #ccc; padding:2px 4px;
}
.tooltip-table td {
  padding:2px 4px; text-align:center;
}
.tooltip-table .cell-x { color:red; font-weight:bold; }

/* Badges d'origine/état des affectations */
.badge-assign { display:inline-block; margin-left:6px; padding:2px 6px; border-radius:10px; font-size:11px; font-weight:bold; vertical-align:middle; }
.badge-desideratas { background:#fff3cd; color:#8a6d3b; border:1px solid #ffe08a; }

/* Conteneur des actions sous le tableau (remplace un style inline) */
.actions-below-table { margin: 10px 5%; }
.badge-auto { background:#e0f3ff; color:#0b5394; border:1px solid #b6e0ff; }
.badge-valide { background:#e8f5e9; color:#2e7d32; border:1px solid #c8e6c9; }

/* Pas d'encadré spécifique sur la page desideratas (affichage minimal) */
/* Si le flag desideratas est présent, renforcer la couleur même hors page dedicée */


/* ========== MODALES ========== */
.modal, .date-modal, .modalh, .indisponibilites-modal, .roulement-modal {
  display:none;
  position:fixed;
  left:0; top:0;
  width:100%; height:100%;
  overflow:auto;
  background:rgba(0,0,0,0.4);
  z-index:1050;
}
.modal-content, .date-modal-content,
.modalh-content, .indisponibilites-modal-content,
.roulement-modal {
  display:block; /* force l'affichage de la modale roulement (le sélecteur global la cachait) */
  background:#fff;
  margin:10% auto;
  padding:20px;
  border:1px solid #ccc;
  border-radius:10px;
  width:70%;
  max-width:800px;
  box-shadow:0 4px 16px rgba(0,0,0,0.15);
}
.modalh-content { width:300px; }
.indisponibilites-modal-content { width:70%; }
.roulement-modal {
  position:fixed;
  top:20%;
  left:50%;
  transform:translate(-50%,0);
  min-width:320px;
}
.close, .date-close, .indisponibilites-close {
  float:right; font-size:28px; font-weight:bold; color:#aaa; cursor:pointer;
}
.close:hover, .date-close:hover, .indisponibilites-close:hover { color:#000; }

/* ========== GROUPES / DRAG ========== */
.group-card {
  min-width:220px; min-height:120px;
  border:1.5px solid #1976d2;
  border-radius:12px;
  padding:12px 14px 14px;
  margin-bottom:18px;
  background:#f7fbff;
  box-shadow:0 2px 8px #1976d233;
  transition:box-shadow .2s, border-color .2s;
  position:relative;
}
.group-card:hover { box-shadow:0 4px 16px #1976d244; border-color:#125ea8; }
.group-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.group-title { font-weight:bold; font-size:1.1em; color:#1976d2; }
.delete-group-btn,
.delete-group-btn-horaire {
  background:#e57373;
  color:#fff;
  border:none;
  border-radius:50%;
  width:28px; height:28px;
  font-size:1.1em;
  cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  transition:background .2s;
}
.delete-group-btn:hover,
.delete-group-btn-horaire:hover { background:#c62828; }
.group-list,
.competence-groupe-list,
.horaire-groupe-list {
  min-height:60px; padding:0; margin:0; list-style:none;
}
.group-list li,
.competence-groupe-list li,
.horaire-groupe-list li,
.draggable-horaire,
.draggable-competence {
  background:#e3f2fd;
  color:#1976d2;
  border-radius:8px;
  margin:4px 0;
  padding:6px 10px;
  font-size:1em;
  cursor:grab;
  transition:background .2s;
  box-shadow:0 1px 3px #1976d211;
}
.group-list li.dragging,
.competence-groupe-list li.dragging,
.horaire-groupe-list li.dragging,
.draggable-horaire.dragging,
.draggable-competence.dragging { opacity:.5; }
.groupe-dropzone.over,
.groupe-dropzone-horaire.over {
  background:#e3f2fd;
  border-color:#42a5f5;
}
#liste-horaires.competence-list,
#liste-competences.competence-list {
  min-height:200px;
  border:1.5px solid #1976d2;
  border-radius:12px;
  background:#f7fbff;
  box-shadow:0 2px 8px #1976d233;
  padding:14px 10px;
  margin-bottom:18px;
  list-style:none;
  transition:box-shadow .2s, border-color .2s;
  display:flex; flex-direction:column; gap:8px;
}
#liste-horaires.competence-list.over,
#liste-competences.competence-list.over {
  background:#e3f2fd; border-color:#42a5f5;
}

/* ========== TABLES STATS / PONDERATION / SIMU ========== */
.simu-table,
.ponderation-table,
.stats-table {
  border-collapse:collapse;
  width:100%;
  background:#fff;
  border-radius:8px;
  box-shadow:0 2px 8px rgba(0,0,0,0.05);
  overflow:hidden;
}
.simu-table th, .simu-table td,
.ponderation-table th, .ponderation-table td,
.stats-table th, .stats-table td {
  border:1px solid var(--gray-border);
  padding:10px;
  text-align:center;
}
.ponderation-input { width:60px; }
.stats-score { margin-bottom:8px; }

/* ========== ROULMENT / PLANNING ========== */
.roulement-vignette {
  display:inline-block;
  background:#e3e6f7;
  color:#222;
  border-radius:8px;
  padding:2px 8px;
  margin:2px;
  font-size:13px;
  font-weight:bold;
}
#planning-evolution-content .simu-locked {
  background:#ffe0e0;
  border:2px solid #d32f2f;
  border-radius:6px;
  opacity:.85;
  padding:2px 6px;
}

/* ========== MISC ========== */
.mission-block {
  background:#ffe9b3;
  color:#333;
  border-radius:4px;
  padding:2px 6px;
  margin:2px 0;
  font-size:.95em;
  font-style:italic;
}

/* ========== PRINT ========== */
@media print {
  header, .no-print { display:none !important; }
  .grid-wrapper .sticky-table-container { box-shadow:none !important; }
  .grid-wrapper, table, table.grid-freeze {
    box-shadow:none !important;          /* on retire l’ombre si tu veux */
    border-radius:10px !important;
  }
}

/* === Mise en forme du bloc d’actions planning === */
#planning-actions {
  display: flex;
  flex-wrap: wrap;          /* Passe à la ligne si l’écran rétrécit */
  gap: 14px;                /* Espace entre les boutons */
  margin: 20px auto;
  width: 90%;
  justify-content: flex-start;
  align-items: stretch;
}

#planning-actions .action-btn {
  flex: 1 1 240px;          /* Largeur flexible min 240px */
  text-align: center;
  white-space: normal;      /* Permet retour à la ligne propre */
  line-height: 1.2;
  padding: 12px 18px;
}

/* === LAYOUT APPLICATION: une seule scrollbar (#content) === */
html, body {
  height:100%;
}
body {
  display:flex;
  flex-direction:column;
}
header {
  flex:0 0 auto;
}
#content {
  flex:1 1 auto;
  overflow:auto;                   /* unique scrollbar */
  margin-top:0 !important;         /* supprime l’ancien décalage */
  padding:20px;
  position:relative;
  -webkit-overflow-scrolling:touch;
}

/* BDD: affichage des sections en pur CSS via :target */
#content > .bdd-section { display:none; }
#content > #noms { display:block; }    /* section par défaut */
#content > .bdd-section:target { display:block; }
/* Si une section est ciblée, on cache la section Noms par défaut */
#content:has(> .bdd-section:target:not(#noms)) > #noms { display:none; }

/* Neutralise les scrolls internes existants */
.sticky-table-container,
.max400-overflow {
  max-height:none !important;
  overflow:visible !important;
}

/* (Option) si un wrapper force une largeur: conserver */
.grid-wrapper {
  overflow:hidden;                 /* garde les coins arrondis */
}

/* Assure le sticky dans le nouveau conteneur scroll (#content) */
table.grid-freeze thead th {
  top:0;
}

/* Faculatif: limiter largeur totale si très large écran */
#content > .bdd-section,
#content > .grid-wrapper {
  max-width:1800px;
  margin-left:auto;
  margin-right:auto;
}

/* === Correction grands tableaux: rétablir scroll horizontal === */
.sticky-table-container {
  max-height:none !important;
  overflow:visible !important; /* plus de scroll interne vertical */
}

.grid-wrapper {
  overflow-x:auto !important;   /* scroll horizontal quand nécessaire */
  overflow-y:visible !important;
  -webkit-overflow-scrolling:touch;
}

.grid-wrapper::-webkit-scrollbar {
  height:10px;
}
.grid-wrapper::-webkit-scrollbar-track {
  background:#eef3f8;
  border-radius:6px;
}
.grid-wrapper::-webkit-scrollbar-thumb {
  background:#b5c4d4;
  border-radius:6px;
}
.grid-wrapper::-webkit-scrollbar-thumb:hover {
  background:#8ca3b7;
}

/* === HEADER RELOOK + DROPDOWN MODERNE === */
header {
  background:linear-gradient(135deg,#2c3e50,#1f2d3a 60%,#162029);
  box-shadow:0 4px 14px rgba(0,0,0,.35);
  border-bottom:1px solid rgba(255,255,255,.08);
}

#header-container { gap:24px; }

#menu > ul {
  background:rgba(255,255,255,0.07);
  padding:6px;
  border-radius:18px;
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  gap:6px;
  position:relative;
}

#menu > ul > li {
  position:relative;
  display:flex;
  align-items:stretch;
}

#menu > ul > li > a {
  background:transparent !important;
  box-shadow:none !important;
  padding:10px 18px;
  line-height:1;
  border-radius:14px;
  font-weight:600;
  letter-spacing:.3px;
  color:#f2f6fa;
  transition:.25s;
  position:relative;
  display:flex;
  align-items:center;
  gap:6px;
}

#menu > ul > li > a:hover {
  background:rgba(255,255,255,.14) !important;
  color:#fff;
  transform:translateY(0);
}

#menu > ul > li > a.active {
  background:linear-gradient(135deg,#19c3a5,#12a68b) !important;
  color:#fff;
  box-shadow:0 0 0 1px rgba(255,255,255,.25),0 4px 10px -2px rgba(0,0,0,.4);
}

#user-section select,
#logoutButton,
#headerLogoutButton {
  box-shadow:0 2px 6px rgba(0,0,0,.25);
}

/* Dropdown : animation + style arrondi */
.has-dropdown .dropdown-menu {
  display:block;               /* rendre animable */
  opacity:0;
  visibility:hidden;
  pointer-events:none;
  transform:translateY(8px) scale(.96);
  transition:.25s cubic-bezier(.25,.6,.25,1);
  background:#ffffff;
  background:
    linear-gradient(145deg,#ffffff 0%,#f5f8fb 90%);
  border:1px solid #e3e9ef;
  border-radius:16px;
  padding:8px 0;
  min-width:210px;
  box-shadow:
    0 4px 18px -4px rgba(20,32,46,.35),
    0 2px 4px rgba(20,32,46,.15);
  overflow:hidden;
}

.has-dropdown:hover .dropdown-menu,
.has-dropdown:focus-within .dropdown-menu {
  opacity:1;
  visibility:visible;
  pointer-events:auto;
  transform:translateY(0) scale(1);
  z-index:1200;
}

/* Petite flèche */
.has-dropdown .dropdown-menu:before {
  content:"";
  position:absolute;
  top:-8px;
  left:18px;
  width:14px; height:14px;
  background:#fff;
  transform:rotate(45deg);
  border-left:1px solid #e3e9ef;
  border-top:1px solid #e3e9ef;
  box-shadow: -2px -2px 3px -2px rgba(0,0,0,.08);
}

.has-dropdown .dropdown-menu li + li {
  border-top:1px solid #f0f3f6;
}

.has-dropdown .dropdown-menu li a {
  font-weight:500;
  padding:9px 18px;
  color:#2c3e50;
  background:transparent;
  transition:.2s;
  border-radius:0;
}

.has-dropdown .dropdown-menu li a:hover {
  background:#e7f3ff;
  color:#0d5ea8;
}

.has-dropdown .dropdown-menu li a:active {
  background:#d3e9ff;
}

/* Transition focus clavier sur liens */
#menu a:focus-visible {
  outline:2px solid #1abc9c;
  outline-offset:2px;
  border-radius:14px;
}

/* Réduction légère sur écrans étroits */
@media (max-width:1100px) {
  #menu > ul > li > a { padding:8px 14px; font-size:13px; }
  .has-dropdown .dropdown-menu { min-width:180px; }
}

/* Mode contraste foncé sur hover parent */
.has-dropdown:hover > a:not(.active) {
  background:rgba(255,255,255,.10) !important;
  color:#fff;
}

/* --- HEADER MODERNE, COMPACT & HARMONIEUX --- */
header {
  min-height: 0;
  padding: 6px 0 4px 0 !important;
}
#header-container {
  padding: 0 !important;
  min-height: 0;
  height: 54px;
  align-items: center;
}
#menu > ul {
  min-height: 0;
  height: 42px;
  align-items: center;
}
#menu > ul > li > a {
  padding: 7px 14px;
  font-size: 15px;
  border-radius: 12px;
}
#menu > ul > li > a.active {
  font-weight: bold;
}
#user-section {
  display: flex;
  align-items: center;
  gap: 12px;
  background: rgba(255,255,255,0.08);
  border-radius: 18px;
  padding: 4px 12px 4px 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
}
.user-avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #19c3a5 60%, #12a68b 100%);
  color: #fff;
  font-weight: bold;
  font-size: 18px;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(20,32,46,.10);
  margin-right: 6px;
  letter-spacing: 1px;
}
.user-info-block {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.user-mail {
  font-size: 14px;
  color: #f2f6fa;
  font-weight: 500;
  letter-spacing: .2px;
  margin-bottom: 1px;
}
#siteSelector {
  background: #fff;
  color: #222;
  border-radius: 8px;
  border: none;
  font-size: 13px;
  padding: 3px 10px 3px 8px;
  margin-top: 0;
  margin-bottom: 0;
  box-shadow: 0 1px 4px rgba(0,0,0,.08);
  transition: border .2s;
}
#siteSelector:focus {
  outline: 2px solid #19c3a5;
}
#logoutButton, #headerLogoutButton {
  background: linear-gradient(135deg, #e74c3c 60%, #c0392b 100%);
  color: #fff;
  border: none;
  border-radius: 14px;
  padding: 7px 16px;
  font-size: 14px;
  font-weight: bold;
  margin-left: 8px;
  box-shadow: 0 2px 8px rgba(231,76,60,0.08);
  transition: background .2s, box-shadow .2s;
}
#logoutButton:hover, #headerLogoutButton:hover {
  background: linear-gradient(135deg, #c0392b 60%, #e74c3c 100%);
  box-shadow: 0 4px 16px rgba(231,76,60,0.18);
}
@media (max-width: 900px) {
  #header-container { width: 98%; }
  #menu > ul > li > a { font-size: 13px; padding: 6px 10px; }
  .user-avatar { width: 28px; height: 28px; font-size: 15px; }
  #user-section { padding: 3px 6px 3px 4px; }
}

/* Pour tous les thead de tes tableaux */
thead tr th {
  background: var(--blue) !important;
  color: #fff !important;
  font-weight: bold;
  text-align: center;
}

/* Cases fermées très visibles dans le planning : fond gris clair, texte noir */
.cell-fermee {
  background: #e5e7eb !important;      /* gris clair */
  color: #222 !important;              /* texte noir */
  font-weight: bold !important;
  font-size: 1.15em !important;
  letter-spacing: 1px;
  text-transform: uppercase;
  text-align: center;
}

/* === PLANNING VALIDE: masquer les badges (D/A/V) et n'afficher que les noms === */
.page-valide .badge-assign { display: none !important; }

